<!-- wedding-entourage.component.html -->
<div class="entourage-container">
  <div class="entourage-header">
    <h1 class="entourage-title">{{ sectionSubtitle }}</h1>
  </div>

  <div class="entourage-content">
    <!-- Introduction -->
    <div class="introduction-section">
      <div class="intro-card">
        <div class="intro-icon">üëë</div>
        <h3 class="intro-title">Our Special Helpers</h3>
        <p class="intro-description">
          Meet the wonderful children who will be helping us make our wedding day even more magical. 
          Each one brings their unique personality and charm to our special celebration.
        </p>
      </div>
    </div>

    <!-- Wedding Party - Little Groom & Little Bride -->
    <div class="role-group-section" *ngFor="let group of roleGroups">
      <div class="group-header">
        <h3 class="group-title">{{ group.title }}</h3>
        <div class="group-decoration"></div>
      </div>

      <div class="members-grid">
        <div 
          class="member-card" 
          *ngFor="let member of getMembersByRole(group.memberIds)"
          (click)="openMemberDetail(member)"
        >
          <div class="card-image-container">
            <div class="member-circle-wrapper" [style.border-color]="getRoleColor(member.role)">
              <img 
                [src]="member.imageUrl" 
                [alt]="member.name"
                class="member-circle-image"
                loading="lazy"
              />
              <div class="member-overlay">
                <span class="view-profile">View Profile</span>
              </div>
            </div>
            <div class="role-badge" [style.background]="getRoleColor(member.role)">
              <span class="role-icon">{{ getRoleIcon(member.role) }}</span>
              <span class="role-text">{{ member.role }}</span>
            </div>
          </div>
          
          <div class="card-content">
            <h4 class="member-name">{{ member.name }}</h4>
            <p class="member-relationship">{{ member.relationship }}</p>
            <p class="member-age">{{ member.age }}</p>
            
            <div class="preview-description">
              {{ member.description | slice:0:80 }}...
            </div>
            
          </div>
        </div>
      </div>
    </div>

  </div>

  <!-- Member Detail Modal -->
  <div 
    class="member-modal" 
    *ngIf="selectedMember"
    (click)="closeMemberDetail()"
  >
    <div 
      class="modal-content" 
      (click)="$event.stopPropagation()"
    >
      <button class="modal-close" (click)="closeMemberDetail()">√ó</button>
      
      <div class="modal-body">
        <div class="modal-header">
          <div class="modal-image-section">
            <div class="modal-circle-large" [style.border-color]="getRoleColor(selectedMember.role)">
              <img 
                [src]="selectedMember.imageUrl" 
                [alt]="selectedMember.name"
                class="modal-large-image"
              />
            </div>
          </div>
          
          <div class="modal-title-section">
            <h2 class="modal-name-large">{{ selectedMember.name }}</h2>
            <div class="modal-details-row">
              <span class="detail-item">
                <span class="detail-icon">üë∂</span>
                {{ selectedMember.age }}
              </span>
              <span class="detail-item">
                <span class="detail-icon">üë®‚Äçüë©‚Äçüëß‚Äçüë¶</span>
                {{ selectedMember.relationship }}
              </span>
            </div>
          </div>
        </div>

        <div class="modal-content-sections">
          <div class="content-section">
            <h4 class="section-title">My Important Role</h4>
            <div class="role-description-card" [style.border-left-color]="getRoleColor(selectedMember.role)">
              <p class="role-description">
                As our {{ selectedMember.role | lowercase }}, {{ selectedMember.name.split(' ')[0] }} will 
                {{ getRoleDescription(selectedMember.role) }}
              </p>
            </div>
          </div>
        </div>

        <div class="modal-decoration">
          <div class="decoration-line" [style.background]="getRoleColor(selectedMember.role)"></div>
          <div class="decoration-dots">
            <span 
              class="dot" 
              *ngFor="let dot of [1,2,3]"
              [style.background]="getRoleColor(selectedMember.role)"
              [style.opacity]="dot * 0.3"
            ></span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>